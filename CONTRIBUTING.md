## Как переводить файлы

> [!NOTE]
> Ограничение рабочей области:
>
> рабочая ветка — **"ruRuText"**, все новые ветки начинаем только от неё, ветку *main* вообще **не** трогаем.
>
> Рабочие документы на данный момент: [**FILE 1**](https://github.com/ShiningTwist/rs_mr_rus_locale/blob/ruRuText/Work_zone/RSMR_MOD_DirTree/StarCraft%20II/Mods/RSMR-Units_Mod.SC2Mod/ruRU.SC2Data/LocalizedData/GameStrings.txt) и  [**FILE 2**](https://github.com/ShiningTwist/rs_mr_rus_locale/blob/ruRuText/Work_zone/RSMR_MOD_DirTree/StarCraft%20II/Mods/RSMRmod.SC2Mod/ruRU.SC2Data/LocalizedData/GameStrings.txt)

Итак, в общем процесс перевода состоит в следующем: скачать нужный *.txt* документ по ссылкам выше, заменить в нужных местах строк английские фразы на русские, и потом отправить их нам в Дискорд в ветку *#ииигрыбл > Перевод RSMR*. (*Те, кто умеют пользоваться git, и так знают всё про форк и Pull request*)

Редактировать эти txt файлы можно и напрямую через редактор, но правильнее будет закинуть их в игру в файлы установленного у вас RSMR, _(закидывать документы в архивы .sc2mod и доставать обратно можно либо с помощью архиватора "[MPQEditor](https://xgm.guru/p/wc3/mpqeditornew)", либо можете распаковать моды через SC2 Editor, просто сохранив моды в виде компонентов .SC2Components)_, открыть через SC2 Editor и переводить там в модуле "*Текст*", попутно проверяя контекст строк через триггеры (хотя для описаний юнитов и абилок это уже не так критично). Ещё существуют какие-то программы-локализаторы, но я в них пока не вникал, пользуйтесь, если шарите.
Вот, кстати, хорошая получасовая видеоинструкция от SC2 Russian Preview (это те самые, чей перевод я испольовал для нашего проекта) по редактированию файлов, можете глянуть: https://www.youtube.com/watch?v=D7vrLHVSpUk


## Как взять себе кусок документа в работу

Чтобы упорядочить процесс перевода, я установил некоторые правила:   
   + Во-первых, я обозвал документы сокращенными обозначениями **FILE 1**, **FILE 2**, и переводить мы их будем именно в таком порядке, документ за документом.   
      *Примечание для тех, кто пользуется github – здесь на гитхабе я, кстати, создал несколько Milestones с названиями **FILE 1**, **FILE 2**... Поэтому, когда будете делать к рабочему документу Issues и Pull requests, связывайте их с соответствующим Milestone. Это позволит наблюдать наш прогресс в [Github Project](https://github.com/users/ShiningTwist/projects/5) в упорядоченном виде.*
     
   + И во-вторых, я постановил, что мы будем пилить документ на куски отправкой уведомлений (мне больше нравится слово "заявка") по номерам строк при забирании куска в работу. Т.е. чел, который решил переводить файл, сообщает другим, что взял себе, например, с 1 по 10 строки *(считать всегда включительно, т.е. первую и десятую строку вы в этом примере тоже берёте)*, чтобы другие знали, что этот кусок уже ушёл в перевод, и делали заявки на другой кусок. Соответственно, выбирая доступный для перевода фрагмент, просматривайте историю сообщений в ветках, чтобы брать то, что еще не занято.
     Заявку-уведомление о том, что вы заняли себе кусок, оставлять можно удобным вам способом из двух:
      - либо в Дискорде в ветке *#ииигрыбл > Перевод RSMR* пинганите меня (Monhaw) сообщением, в котором первой должна быть такая строка (подставьте в этот шаблон нужные номера строк и номер файла):
        ```
        @monhaw, я БЕРУ в работу 50-90 строки в FILE 1
        ```
      - либо на гитхабе в виде Issue, имя которого должно соответствовать этому шаблону (вообще, там всегда самым первым лежит головной Issue, типа [такого](https://github.com/ShiningTwist/rs_mr_rus_locale/issues/1), на него вы можете ориентироваться):
        ```
        feat: перевести 50-90 строки в FILE 1   
        ```
          и при создании настройте параметры следующим образом: 
        ```
        Labels — "enhancement"   
        Projects — "Проект перевода RSMR"   
        Milestone — тот, название которого совпадает с обозначением редактируемого файла, FILE 1, FILE 2...
        Development — привяжите ваш Issue к соответствущему пулл реквесту через это меню, также можете привязать к ветке, куда мерджите коммиты, так будет красивее
        ```     
      *Примечание для тех, кто пользуется github – все заявки дублируйте в Дискорд, не забывайте, что некоторые из нас не разбираются в интерфейсе гитхаба*   

## Как передать нам свой отредактированный документ 

Отредактированный документ надо всегда возвращать после отработки по заявке, а потом снова скачивать его актуальную версию по ссылке вверху страницы. Вернуть и отчитаться нужно даже если вы по какой-либо причине не смогли перевести то, на что брали заявку или перевели частично – это чтобы другие люди видели, что они могут делать заявки на эти строки и доделать то, что вы не смогли. Возвращать удобным вам способом из двух:   
   + в Дискорде в ветке *#ииигрыбл > Перевод RSMR*, пинганув меня (Monhaw), прикрепить файл к сообщению с заголовком по подходящему шаблону из этих трёх (подставив нужные номера строк и номер файла):    
     ```   
     @monhaw, я ПЕРЕВЁЛ – 50-90 строки в FILE 1         
     @monhaw, я ЧАСТИЧНО ПЕРЕВЁЛ – 50-70 строки в FILE 1   
     @monhaw, я НЕ перевёл – 50-90 строки в FILE 1    
     ```    
   + на github делайте Pull request с таким же именем и связями, как у сделанного раннее Issue, не мне вас учить. Если перевод смогли выполнить лишь частично, то не закрывайте — повесьте на Issue и Pull request зелёный лейбл "**help wanted**", в их названиях припишите в конце пометку **[застрял]**, по возможности сделайте Draft Pull Request (черновик), и в комментариях под своим Issue напишите, сколько вы сделали, и в чем проблема.
*и снова напомню - пожалуйста, дублируйте отчёты в Дискорд. Хотя бы о невыполненных и частично выполненных переводах*


## Соглашение о коммитах

Мы пытаемся следовать современному ~~стильному, модному, молодёжному~~ соглашению о коммитах [Conventional Commits](https://www.conventionalcommits.org/ru/v1.0.0/) ([ещё ссылка](https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines)). Вот основные правила, адаптированные под наш проект:

- Изложенное ниже соглашение по возможности распространяется также на оформление заголовков Issues и Pull request
- Заголовок и тело коммита предпочтительно писать на русском языке, остальные служебные пометки только на английском.
- Используйте тип "feat: " перед описанием коммита для новых функций (например, перевод раннее нелокализованных строк)
- Используйте тип "style: " перед описанием коммита для изменений, которые не влияют на смысл кода и перевода (пробелы, форматирование, пропущенные знаки препинания и т.д.)
- Вставляйте цели (scope) в скобках сразу после типа
Примеры хорошего сообщения коммита:   
  
```
feat(abilities): перевести 30-45 строки в FILE 1

<Более расширенное описание (необязательно)>

<сноски (необязательно)>
```   


 #### Типы, которые могут понадобиться
 
* **refactor**: переработка кода, которая не устраняет ошибку и не добавляет напрямую функционал   
* **fix**: багфикс (в нашем случае это исправление неверного перевода)    
* **ci**: изменения в конфигурационных файлах и скриптах CI (примеры областей применения: Travis, Circle, BrowserStack, SauceLabs)    
* **docs**: любые изменения в документации
*  **chore**: поддержка перевода, когда придется догонять новые версии игры или мода


#### Цели, которые могут нам понадобиться
* (**ui**): игровой UI
* (**dialog**): внутриигровой диалог
* (**unit**): описание юнита
* (**building**): описание постройки
* (**ability**): описание способности

