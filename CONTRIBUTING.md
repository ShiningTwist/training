## Как переводить файлы мода

> [!NOTE]
> Ограничение рабочей области:
>
> рабочая ветка — **"ruRuText"**, все новые ветки начинаем только от неё, ветку *main* вообще **не** трогаем.
>
> Рабочие документы на данный момент: [**FILE 1**](https://github.com/ShiningTwist/rs_mr_rus_locale/blob/ruRuText/Work_zone/RSMR_MOD_DirTree/StarCraft%20II/Mods/RSMR-Units_Mod.SC2Mod/ruRU.SC2Data/LocalizedData/GameStrings.txt) , [**FILE 2**](https://github.com/ShiningTwist/rs_mr_rus_locale/blob/ruRuText/Work_zone/RSMR_MOD_DirTree/StarCraft%20II/Mods/RSMRmod.SC2Mod/ruRU.SC2Data/LocalizedData/GameStrings.txt) (по этим ссылкам вы можете перейти к соответствующему файлу в репозитории. Со временем этот список будет пополняться)    
    
   

Итак, в общем процесс перевода состоит в следующем: скачать нужный *.txt* документ по ссылкам выше, заменить английские фразы на русские в нужных местах, и потом отправить результаты своей работы нам в Дискорд в ветку *#ииигрыбл > Перевод RSMR*.  
(*Те, кто умеет пользоваться git – сделайте Fork от ветки "ruRuText"*)

#### Чем редактировать


Полностью на ваше усмотрение. Вы можете редактировать эти txt файлы напрямую через редактор, но более предпочтительно будет загрузить их в игру в файлы установленного у вас RSMR, открыть через SC2 Editor и переводить там в модуле “Текст”, попутно проверяя контекст строк через триггеры. Также вы можете воспользоваться программами-"локализаторами", но в них я не разбираюсь, пользуйтесь, если знакомы с использованием. Но в итоге решать вам, и выбирать наиболее удобный для вас способ.

Вы можете закинуть файлы перевода (как для редактирования, так и для тестирования) в игру двумя способами:   
 + Используйте архиватор "[MPQEditor](https://xgm.guru/p/wc3/mpqeditornew)": Этот инструмент позволяет вам добавлять документы в архивы .sc2mod и извлекать их обратно без полной распаковки. 
 + Используйте SC2 Editor: Вы можете распаковать мод через SC2 Editor, выбрав "сохранить как..." .SC2Components. Обратно можно не запаковывать, игра читает и папки – главное, чтобы имя, включая расширение после точки, совпадало с изначальным архивом.  
Вот, кстати, хорошая получасовая [видеоинструкция](https://www.youtube.com/watch?v=D7vrLHVSpUk) от SC2 Russian Preview (это те самые, чей перевод я испольовал для нашего проекта) по редактированию файлов этими двумя способами, можете глянуть.   
Ещё существуют какие-то программы-локализаторы, но я в них пока не вникал, пользуйтесь, если шарите.


## Как взять себе фрагмент документа в работу

Процесс перевода будет упорядочен следующим образом:   
   Документы обозначены сокращенными названиями FILE 1, FILE 2, и мы переводим их в таком порядке, документ за документом.   
      _Примечание для тех, кто умет пользоваться github – здесь на гитхабе я создал несколько Milestones с аналогичными названиями [**FILE 1**](https://github.com/ShiningTwist/rs_mr_rus_locale/milestone/1) ,  [**FILE 2**](https://github.com/ShiningTwist/rs_mr_rus_locale/milestone/2)... Поэтому, когда будете делать к рабочему документу Issues и Pull requests, связывайте их с соответствующим Milestone. Это позволит наблюдать наш прогресс в [Github Project](https://github.com/users/ShiningTwist/projects/5) в упорядоченном виде._   
     
   Мы пилим документ на части, отправляя в центральную беседу уведомления-заявки по номерам строк при забирании части текста в работу, чтобы все видели, какие строки сейчас в работе, а какие можно взять в работу самому. ОЧЕНЬ РЕКОМЕНДУЕТСЯ переводить файл последовательно, беря фрагменты друг за другом, чтобы не создавать путаницу. Но это уже как получится.    
      Вы можете выбрать один из двух способов, как оставить заявку и уведомить нас о том, что вы взяли на себя перевод определенного фрагмента:
  1. (Если вы не разбираетесь в github) в Дискорде в ветке *#ииигрыбл > Перевод RSMR* отправьте сообщение следующего вида (подставьте в этот шаблон свой диапазон строк и номер файла):
        ```
        БЕРУ в работу 50-90 строки в FILE 1
        ```
  2. (если вы знакомы с гитхабом) Создайте Issue на GitHub. Название Issue должно соответствовать следующему шаблону:   
   
        ```
        feat: перевести 50-90 строки в FILE 1   
        ```
   Настройте параметры Issue следующим образом:   
        ```
        Labels: Установите метку “enhancement”.
        Projects: Выберите “Проект перевода RSMR”.
        Milestone: Выберите веху, название которой совпадает с обозначением редактируемого файла (например, FILE 1, FILE 2 и т.д.).
        Development: Привяжите ваш Issue к соответствующему pull request через это меню. Вы также можете привязать его к ветке, в которую вы собираетесь внести свои коммиты.
        ```
     *Примечание для тех, кто пользуется github – все заявки дублируйте в Дискорд, не забывайте о тех, кто не разбирается в гитхабе*   


## Как передать нам свой отредактированный документ через Дискорд

Независимо от того, удалось ли вам перевести взятый фрагмент, важно уведомить нас об этом, когда завершите работу над документом. Оставьте в Дискорде, в ветке *#ииигрыбл > Перевод RSMR*, сообщение, в котором первая строка должна соответствовать одному из следующих шаблонов (подставьте свои дипазоны строк и номер файла): 
     ```   
     @monhaw, заявлено 50-90, переведено 50-90. ВЫПОЛНЕНО         
     @monhaw, заявлено 50-90, переведено 60-70 и 80-85. ЧАСТИЧНО   
     @monhaw, заявлено 50-90, переведено 0. ОТМЕНЕНО   
     ```   
Если у вас есть отредактированный файл, прикрепите его к сообщению и опишите своими словами, что вам удалось сделать, а также любые свои комментарии (мне придет уведомление, я заберу ваш файл и добавлю в общий проект. После этого вы можете подать заявку на перевод следующего фрагмента, если хотите.


## Как передать через git (тоже важно!)

Создайте Pull request с таким же именем и связями, как у вашего созданного раннее Issue. Если вы не смогли ничего перевести или смогли выполнить перевод только частично, оставьте Issue и Pull Request открытыми и добавьте к ним метку (label): **help wanted**. В название вашего Issue и Pull request добавьте в конец пометку **[stall]** и, по возможности, сделайте Pull Request черновым (Draft Pull Request). В комментариях к вашему Issue опишите, что и сколько вы смогли сделать, и в чем возникли проблемы.  
*и снова напомню - пожалуйста, дублируйте отчёты в Дискорд. Хотя бы о невыполненных и частично выполненных переводах*


## Соглашение о коммитах

Мы пытаемся следовать современному ~~стильному, модному, молодёжному~~ соглашению о коммитах [Conventional Commits](https://www.conventionalcommits.org/ru/v1.0.0/) ([ещё ссылка](https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines)). Вот основные правила, адаптированные под наш проект:


- Заголовок и тело коммита предпочтительно писать на русском языке, остальные служебные пометки только на английском.
- Используйте тип "feat: " перед описанием коммита для новых функций (например, перевод раннее нелокализованных строк)
- Используйте тип "style: " перед описанием коммита для изменений, которые не влияют на смысл кода и перевода (пробелы, форматирование, пропущенные знаки препинания и т.д.)
- Вставляйте цели (scope) в скобках сразу после типа
- Раз уж вы по какой-то причине дочитали до этого момента, и вам всё ещё интересно, попробуйте следовать этим правилам также при оформлении заголовков ваших Issues и Pull request, чтобы всё было единообразно
Пример хорошего сообщения коммита:   
  
```
feat(unit): перевести 30-45 строки в FILE 1

<Более расширенное тело (необязательно)>

<сноски (необязательно)>
```   

**Типы**  
 
* **refactor**: переработка кода, которая не устраняет ошибку и не добавляет напрямую функционал   
* **fix**: багфикс (в нашем случае это исправление неверного перевода)    
* **ci**: изменения в конфигурационных файлах и скриптах CI (примеры областей применения: Travis, Circle, BrowserStack, SauceLabs)    
* **docs**: любые изменения в документации
* **revert**: коммит, отменяющий другой коммит
* **chore**: поддержка перевода, когда придется догонять новые версии игры или мода  


**Цели (scope)**
* (**ui**): игровой UI
* (**dialog**): внутриигровой диалог
* (**unit**): описание юнита
* (**building**): описание постройки
* (**ability**): описание способности   


**Сноски и прочие элементы**  
* `BREAKING CHANGE: ` критическое изменение, ломающее обратную совместимость. Мажорное обновление
* `Co-authored-by: имя <email>` указание на (со)автора


